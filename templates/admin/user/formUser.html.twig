{% extends 'admin/index.html.twig' %}

{% block title %}Utilisateur | {{ parent() }}{% endblock %}
{% block javascripts %}
{{parent()}}

<!-- My JS -->
{{ encore_entry_script_tags('displayPassword') }}

{% endblock %}

{% block body %}
{% block header %} {{parent()}} {% endblock  %}  

    <main class="main-container col-12">

    {% block Breadcrumb %}
        <section>
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="{{ path('app_admin') }}">Accueil</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Créer un Utilisateur</li>
                </ol>
            </nav>
        </section>
    {% endblock  %}


    {{ include('_partials/_modalConfirm.html.twig') }}

        {% if editMode %}
            <h1 class="">Modification de {{ h1Edit }}</h1>
                    
        {% else %}
                
            <h1 class="">Création d'un nouveau compte de connexion </h1>

                {# color: #0b6e40 ; #}
            <ul class="" style="list-style-type: disc; ">
                <li>Pour chaque utilisateur</li>
                    <ul>
                        <li>* Franchise </li>
                            
                        <li>* Structure </li>
                    </ul>
            </ul>

            <div class="box1"
                <p>La création d'un compte de connexion est obligatoire pour pourvoir créer la
                <span>Franchise</span> ou la <span>Structure</span> mais aussi pour se connecter à leur compte.</p>
            </div>

            <div class="box1">
                <p> Un email leur sera envoyé automatiquement avec leur id et mpd.</p>
            </div>

        {% endif %}

                    

    <!-- *FORMULAIRE LIER A ENTITY USER 
        *ROLE PARTNER
    -->

    {# A voir pourquoi ca ne marche pas #}
        {# {% for messgae in app.flashes('success') %}
            <div class ='alert alert-success' role='alert'>
                <p> {{message}} </p>
            </div>
        {% endfor %}
    #}


    {{form_start(formUser, { 'attr': {'id': 'user'} })}}
            <fieldset>
                <legend> Compte de connexion </legend>

                    <div class="form-group">
                        {{ form_row(formUser.username,{'label':'Nom','attr': {'placeholder':'Nom de l\'utilisateur'}}) }}
                    </div>   

                    <div class="form-group">
                        {{ form_row(formUser.email, {'label':'Email','attr': {'placeholder':'Email de l\'utilisateur'}}) }}
                    </div>      

                    <div class="form-group">
                        <label for="inputPassword" class="form-label">Mot de Passe</label>
                        <div class="input-group">
                            <input type="password" class="form-control" name="password" id="inputPassword" placeholder="Mot de passe" autocomplete="current-password" required/>
                            <span role="button" class="input-group-text">
                                <i class="bi bi-eye" title="Affichez le mot de passe" alt="Affichez le mot de passe" id="togglePassword"></i>
                    </div>
                        {# {{ form_row(formUser.password, {'label':'Mot de passe','attr': {'placeholder':''}}) }} #}

                    </div>         
                            
                    <div class="form-group">
                        {{ form_row(formUser.confirmPassword, {'label':'Confirmation de votre mot de passe','attr': {'placeholder':''}}) }}
                    </div>                               
                    <div class="form-group">
                        {{ form_row(formUser.roles, {'attr': {'placeholder':''}}) }}
                    </div>                               

<button class="btn btnCustom mx-auto" id='test' data-bs-toggle="modal" data-bs-target="#test">
{# <button class="btn btnCustom mx-auto" type="submit" id='test' data-bs-toggle="modal" data-bs-target="#test"> #}

                        
                        {% if editMode %}
                            Enregistrer les modifications
                        {% else %}
                            Ajouter
                        {% endif %}
                    
                    </button>
            </fieldset>
        {{form_end(formUser)}}
        
{# <button id='test' data-bs-toggle="modal" data-bs-target="#test" class="btn mx-auto" type="submit">test alert </button> #}

    </main> 
{% endblock %}



